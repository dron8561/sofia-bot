# ü§ñ –°–æ—Ñ–∏—è ‚Äî —Ñ–ª–∏—Ä—Ç—É—é—â–∏–π Telegram-–±–æ—Ç —Å –ò–ò

–ú–∏–ª–∞—è –∏ –ª—ë–≥–∫–∞—è —Å–æ–±–µ—Å–µ–¥–Ω–∏—Ü–∞, —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ OpenAI + Flask.

---

## üîß –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ª–æ–∫–∞–ª—å–Ω–æ (–¥–ª—è —Ç–µ—Å—Ç–∞)

1. –ü–æ–ª—É—á–∏ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ –æ—Ç [@BotFather](https://t.me/BotFather)
2. –ü–æ–ª—É—á–∏ API-–∫–ª—é—á OpenAI: https://platform.openai.com/
3. –°–∫–ª–æ–Ω–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏–ª–∏ —Ä–∞—Å–ø–∞–∫—É–π –∞—Ä—Ö–∏–≤:
   ```bash
   git clone <—Ç–≤–æ–π-—Ä–µ–ø–æ>
   cd sofia-bot
   ```
4. –£—Å—Ç–∞–Ω–æ–≤–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
   ```bash
   pip install -r requirements.txt
   ```
5. –£—Å—Ç–∞–Ω–æ–≤–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–≤ Linux/macOS):
   ```bash
   export TELEGRAM_TOKEN="—Ç–≤–æ–π_—Ç–æ–∫–µ–Ω"
   export OPENAI_API_KEY="—Ç–≤–æ–π_api_key"
   ```
   –í Windows PowerShell:
   ```powershell
   setx TELEGRAM_TOKEN "—Ç–≤–æ–π_—Ç–æ–∫–µ–Ω"
   setx OPENAI_API_KEY "—Ç–≤–æ–π_api_key"
   ```
6. –ó–∞–ø—É—Å—Ç–∏ –ª–æ–∫–∞–ª—å–Ω–æ:
   ```bash
   python main.py
   ```
7. –ù–∞—Å—Ç—Ä–æ–π webhook (–∑–∞–º–µ–Ω–∏ localhost –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏):
   ```bash
   curl "https://api.telegram.org/bot<TELEGRAM_TOKEN>/setWebhook?url=https://<—Ç–≤o–π-url>/webhook"
   ```

---

## ‚òÅÔ∏è –î–µ–ø–ª–æ–π –Ω–∞ Render (–±–µ—Å–ø–ª–∞—Ç–Ω—ã–π —Ö–æ—Å—Ç–∏–Ω–≥)

1. –°–æ–∑–¥–∞–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ GitHub –∏ –∑–∞–ø—É—à—å —Ñ–∞–π–ª—ã.
2. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Å—è –Ω–∞ https://render.com –∏ —Å–æ–∑–¥–∞–π **New Web Service**.
3. –ü–æ–¥–∫–ª—é—á–∏ GitHub-—Ä–µ–ø–æ –∏ –≤—ã–±–µ—Ä–∏ –≤–µ—Ç–∫—É.
4. –í Environment ‚Üí Add Environment Variables –¥–æ–±–∞–≤—å:
   - TELEGRAM_TOKEN
   - OPENAI_API_KEY
5. –ö–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫–∞ (Start Command): `gunicorn main:app --bind 0.0.0.0:$PORT`
6. –ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –≤—ã–∑–æ–≤–∏:
   ```
   https://api.telegram.org/bot<TELEGRAM_TOKEN>/setWebhook?url=https://<render_url>/webhook
   ```

---

## ‚ö†Ô∏è –í–∞–∂–Ω–æ –ø—Ä–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –º–æ–¥–µ—Ä–∞—Ü–∏—é

- –ù–ï –≤—Å—Ç–∞–≤–ª—è–π –∫–ª—é—á–∏ –∏ —Ç–æ–∫–µ–Ω—ã –ø—Ä—è–º–æ –≤ –∫–æ–¥. –ò—Å–ø–æ–ª—å–∑—É–π –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è.
- –ë–æ—Ç —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç –æ—Ç–∫—Ä–æ–≤–µ–Ω–Ω—ã–µ —Å–ª–æ–≤–∞, –Ω–æ —Å–ª–µ–¥–∏ –∑–∞ –ø–æ–≤–µ–¥–µ–Ω–∏–µ–º –∏ –ª–æ–≥–∞–º–∏.
- OpenAI API –ø–ª–∞—Ç–Ω—ã–π ‚Äî –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–π —Ä–∞—Å—Ö–æ–¥—ã (max_tokens, frequency).
- –£–±–µ–¥–∏—Å—å, —á—Ç–æ —Ç–≤–æ–π –±–æ—Ç —Å–æ–±–ª—é–¥–∞–µ—Ç –ø—Ä–∞–≤–∏–ª–∞ Telegram –∏ OpenAI.

---

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ

–ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å:
- –º–æ–¥—É–ª—å –º–æ–¥–µ—Ä–∞—Ü–∏–∏ (OpenAI moderation) –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π –≤ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä;
- –≥–æ–ª–æ—Å–æ–≤—ã–µ –æ—Ç–≤–µ—Ç—ã (TTS);
- –∫–Ω–æ–ø–∫–∏ –∏ –±—ã—Å—Ç—Ä—ã–µ –æ—Ç–≤–µ—Ç—ã (InlineKeyboard).
